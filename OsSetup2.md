## Введение ##

Описание для ALT Linux, на базе дистрибутива LXDEsktop 6 и бранча p6. LXDEsktop достаточно аскетичный, в плане потребляемых ресурсов, вариант дистрибутива, который вполне годится для организации лёгкой сборочной среды. Однако, следует помнить, что многие компоненты отсутствуют на установочном CD и придётся использовать подключение к сети Интернет. Все подготовительные команды выполняются в консоли от пользователя root.

## Установка виртуальной машины ##

Установка VirtualBox производится аналогично описанному на странице [про настройку host-системы с Debian/Ubuntu](OsSetup.md). iso-образ LXDEsktop можно взять тут: [ftp://ftp.altlinux.ru/pub/distributions/ALTLinux/p6/iso/lxdesktop/](ftp://ftp.altlinux.ru/pub/distributions/ALTLinux/p6/iso/lxdesktop/) <br>
Брать можно CD-версию.<br>
<br>
<h2>Замечания по установке и работе</h2>

При установке потребуется завести хотябы одного простого пользователя. Практически во всех дистрибутивах семейства ALT Linux вход под учётной записью root доступен только в текстовой консоли, так что логин в LXDE надо делать под обычным пользователем. Запущенный терминальный сеанс переводится режим root командой "<b>su -</b>".<br>
<br>
<h2>Установка обновлений</h2>

После начальной установки следует обновить дистрибутив до текущего состояния бранча p6. Открываем LXterminal (доступен внизу, в панели запуска), набираем "<b>su -</b>" и получаем, после ввода пароля root, консоль с нужными правами. Далее, меняем репозитарий на сетевой:<br>
<pre><code>apt-repo rm all<br>
apt-repo add p6<br>
</code></pre>
синхронизируем список пакетов<br>
<pre><code>apt-get update<br>
</code></pre>
обновляем<br>
<pre><code>apt-get dist-upgrade<br>
</code></pre>
после подтверждения операции скачается около 150 Мб обновлений (объём первого обновления, со временем, увеличивается).<br>
<br>
<h2>Установка пакетов, необходимых для сборки кросскомпилятора</h2>

Пакеты можно установить одной командой, но разобьём на группы.<br>
Установим вспомогательные пакеты для получения исходных кодов<br>
<pre><code>apt-get install subversion wget<br>
</code></pre>
<i>Теоретически, со временем, кроме или вместо subversion, может потребоваться git и/или mercurial.</i><br><br>
Установим компиляторы и вспомогательные утилиты для компиляции:<br>
<pre><code>apt-get install gcc4.5-c++ gcc4.5 libtool_2.2 bison flex gperf texinfo patch<br>
</code></pre>
При сборке кросскомпилятора рекомендуется использовать статическую компиляцию для удобства переноса сборочной среды, по-этому, установим соответствующие пакеты для статической сборки (основные devel-пакеты попадут в список автоматически):<br>
<pre><code>apt-get install libexpat-devel-static libtinfo-devel-static libstdc++4.5-devel-static \<br>
     libgmp-devel-static libgmp_cxx-devel-static glibc-devel-static<br>
</code></pre>
В последствии, для сборки rootfs посредством build-root, потребуется gettext-tools:<br>
<pre><code>apt-get install gettext-tools<br>
</code></pre>
В данном случае, предполагается, что из списка дополнительных языков выбран только C++. При необходимости сборки других дополнительных компиляторов, потребуется доустановка соответствующих <code>*</code>-devel-static пакетов.<br>
<br>
<h2>Очистка кэша apt</h2>

Чтобы уменьшить объём сборочной среды, очистим кэш apt:<br>
<pre><code>apt-get clean<br>
</code></pre>
Полный объём установленной системы, на данном этапе, должен составить чуть более 2Гб.<br>
<br>
<h2>Настройка системы завершена</h2>

Можно приступать к <a href='CrosstoolNg.md'>сборке кросс-компилятора</a>